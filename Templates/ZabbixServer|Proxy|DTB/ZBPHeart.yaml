zabbix_export:
  version: '5.4'
  date: '2022-09-23T18:29:19Z'
  groups:
    -
      uuid: a571c0d144b14fd4a87a9d9b2aa9fcd6
      name: Templates/Applications
    -
      uuid: 748ad4d098d447d492bb935c907f652f
      name: Templates/Databases
  templates:
    -
      uuid: e19c120027e04da69b130e0f6cea29fc
      template: 'MySQL by ODBC'
      name: 'MySQL by ODBC'
      description: |
        Requirements for template operation:
        1. Create MySQL user for monitoring. For example:
        CREATE USER 'zbx_monitor'@'%' IDENTIFIED BY '<password>';
        GRANT REPLICATION CLIENT,PROCESS,SHOW DATABASES,SHOW VIEW ON *.* TO 'zbx_monitor'@'%';
        For more information read the MYSQL documentation https://dev.mysql.com/doc/refman/8.0/en/grant.html , please. 
        2. Set the user name and password in host macros ({$MYSQL.USER} and {$MYSQL.PASSWORD}).
        
        
        You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/384189-discussion-thread-for-official-zabbix-template-db-mysql
        
        Template tooling version used: 0.38
      groups:
        -
          name: Templates/Databases
      items:
        -
          uuid: 72e0f88741d746bf88e8951ef69681f9
          name: 'MySQL: Get status variables'
          type: ODBC
          key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          history: '0'
          trends: '0'
          value_type: TEXT
          params: 'show global status'
          username: '{$MYSQL.USER}'
          password: '{$MYSQL.PASSWORD}'
          description: 'The item gets server global status information.'
          tags:
            -
              tag: Application
              value: 'Zabbix raw items'
        -
          uuid: 5b7c14e38799427cb6520f47bf8afe6c
          name: 'MySQL: Status'
          type: ODBC
          key: 'db.odbc.select[ping,"{$MYSQL.DSN}"]'
          history: 7d
          params: 'select "1"'
          username: '{$MYSQL.USER}'
          password: '{$MYSQL.PASSWORD}'
          valuemap:
            name: 'Service state'
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 10m
          tags:
            -
              tag: Application
              value: MySQL
          triggers:
            -
              uuid: e664e41d7b4f4336a3e5ef4720f6ee41
              expression: 'last(/MySQL by ODBC/db.odbc.select[ping,"{$MYSQL.DSN}"])=0'
              name: 'MySQL: Service is down'
              priority: HIGH
        -
          uuid: b9fb80ca366e4d33801472bcd013f881
          name: 'MySQL: Version'
          type: ODBC
          key: 'db.odbc.select[version,"{$MYSQL.DSN}"]'
          delay: 15m
          history: 7d
          trends: '0'
          value_type: CHAR
          params: 'select version()'
          username: '{$MYSQL.USER}'
          password: '{$MYSQL.PASSWORD}'
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: Application
              value: MySQL
          triggers:
            -
              uuid: 4090a1d3d82d47ac85964baeae121b2b
              expression: 'last(/MySQL by ODBC/db.odbc.select[version,"{$MYSQL.DSN}"],#1)<>last(/MySQL by ODBC/db.odbc.select[version,"{$MYSQL.DSN}"],#2) and length(last(/MySQL by ODBC/db.odbc.select[version,"{$MYSQL.DSN}"]))>0'
              name: 'MySQL: Version has changed (new version value received: {ITEM.VALUE})'
              priority: INFO
              description: 'MySQL version has changed. Ack to close.'
              manual_close: 'YES'
        -
          uuid: 73235748ba4742c0aa3c4f29509a162d
          name: 'MySQL: Aborted clients per second'
          type: DEPENDENT
          key: mysql.aborted_clients.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of connections that were aborted because the client died without closing the connection properly.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Aborted_clients'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: b6185e79abd744f78ce579a83381ba87
          name: 'MySQL: Aborted connections per second'
          type: DEPENDENT
          key: mysql.aborted_connects.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of failed attempts to connect to the MySQL server.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Aborted_connects'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
          triggers:
            -
              uuid: 5934cb80f9c3442d978c63780b1ebc9f
              expression: 'min(/MySQL by ODBC/mysql.aborted_connects.rate,5m)>{$MYSQL.ABORTED_CONN.MAX.WARN}'
              name: 'MySQL: Server has aborted connections (over {$MYSQL.ABORTED_CONN.MAX.WARN} for 5m)'
              priority: AVERAGE
              description: 'The number of failed attempts to connect to the MySQL server is more than {$MYSQL.ABORTED_CONN.MAX.WARN} in the last 5 minutes.'
              dependencies:
                -
                  name: 'MySQL: Refused connections (max_connections limit reached)'
                  expression: 'last(/MySQL by ODBC/mysql.connection_errors_max_connections.rate)>0'
        -
          uuid: 9db77e72fd9d404a8e1fd4e72c92d75c
          name: 'MySQL: Binlog cache disk use'
          type: DEPENDENT
          key: mysql.binlog_cache_disk_use
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of transactions that used a temporary disk cache because they could not fit in the regular binary log cache, being larger than binlog_cache_size.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Binlog_cache_disk_use'')].Value.first()'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: 05e7e91206bb4138a945ea0de2d8c01d
          name: 'MySQL: Buffer pool efficiency'
          type: CALCULATED
          key: mysql.buffer_pool_efficiency
          history: 7d
          value_type: FLOAT
          units: '%'
          params: |
            last(//mysql.innodb_buffer_pool_reads) / 
            ( last(//mysql.innodb_buffer_pool_read_requests) + 
            ( last(//mysql.innodb_buffer_pool_read_requests) = 0 ) ) * 100 * 
            ( last(//mysql.innodb_buffer_pool_read_requests) > 0 )
          description: 'The item shows how effectively the buffer pool is serving reads.'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: ad5520e067ea405eb939d319fa9690e9
          name: 'MySQL: Buffer pool utilization'
          type: CALCULATED
          key: mysql.buffer_pool_utilization
          history: 7d
          value_type: FLOAT
          units: '%'
          params: |
            ( last(//mysql.innodb_buffer_pool_pages_total) - 
            last(//mysql.innodb_buffer_pool_pages_free) ) / 
            ( last(//mysql.innodb_buffer_pool_pages_total) + 
            ( last(//mysql.innodb_buffer_pool_pages_total) = 0 ) ) * 100 * 
            ( last(//mysql.innodb_buffer_pool_pages_total) > 0 )
          description: 'Ratio of used to total pages in the buffer pool.'
          tags:
            -
              tag: Application
              value: MySQL
          triggers:
            -
              uuid: f4c2e4edf0c34bb1856ed392f2bc7c87
              expression: 'max(/MySQL by ODBC/mysql.buffer_pool_utilization,5m)<{$MYSQL.BUFF_UTIL.MIN.WARN}'
              name: 'MySQL: Buffer pool utilization is too low (less than {$MYSQL.BUFF_UTIL.MIN.WARN}% for 5m)'
              priority: WARNING
              description: 'The buffer pool utilization is less than {$MYSQL.BUFF_UTIL.MIN.WARN}% in the last 5 minutes. This means that there is a lot of unused RAM allocated for the buffer pool, which you can easily reallocate at the moment.'
        -
          uuid: f05d592e6ae74e64bc54c649418761a6
          name: 'MySQL: Bytes received'
          type: DEPENDENT
          key: mysql.bytes_received.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: Bps
          description: 'Number of bytes received from all clients.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Bytes_received'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: ce737bc186f24014a70c75da2386986d
          name: 'MySQL: Bytes sent'
          type: DEPENDENT
          key: mysql.bytes_sent.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: Bps
          description: 'Number of bytes sent to all clients.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Bytes_sent'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: a43ec23dad9345a5a1b0ff8bda12ed77
          name: 'MySQL: Command Delete per second'
          type: DEPENDENT
          key: mysql.com_delete.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The Com_delete counter variable indicates the number of times the delete statement has been executed.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Com_delete'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: cd924e3b51074b3baf642a7aa1eeb474
          name: 'MySQL: Command Insert per second'
          type: DEPENDENT
          key: mysql.com_insert.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The Com_insert counter variable indicates the number of times the insert statement has been executed.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Com_insert'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: 31e6372d1249442ab3ebdd993f397e26
          name: 'MySQL: Command Select per second'
          type: DEPENDENT
          key: mysql.com_select.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The Com_select counter variable indicates the number of times the select statement has been executed.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Com_select'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: 0f5f638777284093bcdc5f2dacc8e951
          name: 'MySQL: Command Update per second'
          type: DEPENDENT
          key: mysql.com_update.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The Com_update counter variable indicates the number of times the update statement has been executed.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Com_update'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: fad5f4e1885341d1958f653afb85ff07
          name: 'MySQL: Connections per second'
          type: DEPENDENT
          key: mysql.connections.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of connection attempts (successful or not) to the MySQL server.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Connections'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: 4b67e0e6291b4e0c841334ac052d7253
          name: 'MySQL: Connection errors accept per second'
          type: DEPENDENT
          key: mysql.connection_errors_accept.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of errors that occurred during calls to accept() on the listening port.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Connection_errors_accept'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: 76ad3a39e89e44daad08cc00174d4918
          name: 'MySQL: Connection errors internal per second'
          type: DEPENDENT
          key: mysql.connection_errors_internal.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of refused connections due to internal server errors, for example, out of memory errors, or failed thread starts.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Connection_errors_internal'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: 83dfb916c7674e1fbd300be444241e25
          name: 'MySQL: Connection errors max connections per second'
          type: DEPENDENT
          key: mysql.connection_errors_max_connections.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of refused connections due to the max_connections limit being reached.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Connection_errors_max_connections'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
          triggers:
            -
              uuid: ac781c951ac0453a9c1008b2cf801518
              expression: 'last(/MySQL by ODBC/mysql.connection_errors_max_connections.rate)>0'
              name: 'MySQL: Refused connections (max_connections limit reached)'
              priority: AVERAGE
              description: 'Number of refused connections due to the max_connections limit being reached.'
        -
          uuid: 9be4cb9e209344d0869a56082d16ec53
          name: 'MySQL: Connection errors peer address per second'
          type: DEPENDENT
          key: mysql.connection_errors_peer_address.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of errors while searching for the connecting client IP address.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Connection_errors_peer_address'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: e50b9fea89cc440abc0155dc25346f05
          name: 'MySQL: Connection errors select per second'
          type: DEPENDENT
          key: mysql.connection_errors_select.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of errors during calls to select() or poll() on the listening port. The client would not necessarily have been rejected in these cases.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Connection_errors_select'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: a82a7ada012141c6bdff63bc8d615786
          name: 'MySQL: Connection errors tcpwrap per second'
          type: DEPENDENT
          key: mysql.connection_errors_tcpwrap.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of connections the libwrap library has refused.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Connection_errors_tcpwrap'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: 84d748ab80444e10bdb60bcfbdfa850a
          name: 'MySQL: Created tmp tables on disk per second'
          type: DEPENDENT
          key: mysql.created_tmp_disk_tables.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of internal on-disk temporary tables created by the server while executing statements.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Created_tmp_disk_tables'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
          triggers:
            -
              uuid: 8aec6a51fa3e4320b3c7c40858ac7f96
              expression: 'min(/MySQL by ODBC/mysql.created_tmp_disk_tables.rate,5m)>{$MYSQL.CREATED_TMP_DISK_TABLES.MAX.WARN}'
              name: 'MySQL: Number of on-disk temporary tables created per second is high (over {$MYSQL.CREATED_TMP_DISK_TABLES.MAX.WARN} for 5m)'
              priority: WARNING
              description: 'Possibly the application using the database is in need of query optimization.'
        -
          uuid: c5f2ae1ef46e4f65842ab4a31625906a
          name: 'MySQL: Created tmp files on disk per second'
          type: DEPENDENT
          key: mysql.created_tmp_files.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'How many temporary files mysqld has created.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Created_tmp_files'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
          triggers:
            -
              uuid: c1dbcf829bdf43fda3b4c2add576c8f0
              expression: 'min(/MySQL by ODBC/mysql.created_tmp_files.rate,5m)>{$MYSQL.CREATED_TMP_FILES.MAX.WARN}'
              name: 'MySQL: Number of temporary files created per second is high (over {$MYSQL.CREATED_TMP_FILES.MAX.WARN} for 5m)'
              priority: WARNING
              description: 'Possibly the application using the database is in need of query optimization.'
        -
          uuid: 95fa4f4f1db44b2bb65889da246c03b5
          name: 'MySQL: Created tmp tables on memory per second'
          type: DEPENDENT
          key: mysql.created_tmp_tables.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of internal temporary tables created by the server while executing statements.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Created_tmp_tables'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
          triggers:
            -
              uuid: d65c3ec6cacd41c58f5e2b209ca5a810
              expression: 'min(/MySQL by ODBC/mysql.created_tmp_tables.rate,5m)>{$MYSQL.CREATED_TMP_TABLES.MAX.WARN}'
              name: 'MySQL: Number of internal temporary tables created per second is high (over {$MYSQL.CREATED_TMP_TABLES.MAX.WARN} for 5m)'
              priority: WARNING
              description: 'Possibly the application using the database is in need of query optimization.'
        -
          uuid: e31f66bbc32b404c92debc4d9367162d
          name: 'MySQL: InnoDB buffer pool pages free'
          type: DEPENDENT
          key: mysql.innodb_buffer_pool_pages_free
          delay: '0'
          history: 7d
          description: 'The total size of the InnoDB buffer pool, in pages.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Innodb_buffer_pool_pages_free'')].Value.first()'
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: 41019c084618404db183326c215d71f6
          name: 'MySQL: InnoDB buffer pool pages total'
          type: DEPENDENT
          key: mysql.innodb_buffer_pool_pages_total
          delay: '0'
          history: 7d
          description: 'The total size of the InnoDB buffer pool, in pages.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Innodb_buffer_pool_pages_total'')].Value.first()'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: 441b718148974e289db93299f869feba
          name: 'MySQL: InnoDB buffer pool reads'
          type: DEPENDENT
          key: mysql.innodb_buffer_pool_reads
          delay: '0'
          history: 7d
          description: 'Number of logical reads that InnoDB could not satisfy from the buffer pool, and had to read directly from the disk.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Innodb_buffer_pool_reads'')].Value.first()'
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: 'Zabbix raw items'
        -
          uuid: 22ae5946fc2548cf8eee39a57ce8512b
          name: 'MySQL: InnoDB buffer pool reads per second'
          type: DEPENDENT
          key: mysql.innodb_buffer_pool_reads.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of logical reads per second that InnoDB could not satisfy from the buffer pool, and had to read directly from the disk.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Innodb_buffer_pool_reads'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: 0a1775a7de33464e9ce8134950527021
          name: 'MySQL: InnoDB buffer pool read requests'
          type: DEPENDENT
          key: mysql.innodb_buffer_pool_read_requests
          delay: '0'
          history: 7d
          description: 'Number of logical read requests.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Innodb_buffer_pool_read_requests'')].Value.first()'
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: 'Zabbix raw items'
        -
          uuid: 98684abf32e642bd8784e68e64357dc9
          name: 'MySQL: InnoDB buffer pool read requests per second'
          type: DEPENDENT
          key: mysql.innodb_buffer_pool_read_requests.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of logical read requests per second.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Innodb_buffer_pool_read_requests'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: 4e829cbb3cc2485dac2757867badd0f4
          name: 'MySQL: Innodb buffer pool wait free'
          type: DEPENDENT
          key: mysql.innodb_buffer_pool_wait_free
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of times InnoDB waited for a free page before reading or creating a page. Normally, writes to the InnoDB buffer pool happen in the background. When no clean pages are available, dirty pages are flushed first in order to free some up. This counts the numbers of wait for this operation to finish. If this value is not small, look at the increasing innodb_buffer_pool_size.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Innodb_buffer_pool_wait_free'')].Value.first()'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: 4680fd31a2514e3f827b0060a6d5bfc4
          name: 'MySQL: Calculated value of innodb_log_file_size'
          type: CALCULATED
          key: mysql.innodb_log_file_size
          history: 7d
          value_type: FLOAT
          params: '(last(//mysql.innodb_os_log_written) - last(//mysql.innodb_os_log_written)) / {$MYSQL.INNODB_LOG_FILES}'
          description: 'Calculated by (innodb_os_log_written-innodb_os_log_written(time shift -1h))/{$MYSQL.INNODB_LOG_FILES} value of the innodb_log_file_size. Innodb_log_file_size is the size in bytes of the each InnoDB redo log file in the log group. The combined size can be no more than 512GB. Larger values mean less disk I/O due to less flushing checkpoint activity, but also slower recovery from a crash.'
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: 79218a1068394ce69dfc6eeb626e83bc
          name: 'MySQL: Innodb number open files'
          type: DEPENDENT
          key: mysql.innodb_num_open_files
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of open files held by InnoDB. InnoDB only.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Innodb_num_open_files'')].Value.first()'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: fc561c5392bb43a4842977bdf4b882a8
          name: 'MySQL: Innodb log written'
          type: DEPENDENT
          key: mysql.innodb_os_log_written
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: 'Number of bytes written to the InnoDB log.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Innodb_os_log_written'')].Value.first()'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: a62951afcfbd44e595a4d294b24056e5
          name: 'MySQL: InnoDB row lock time'
          type: DEPENDENT
          key: mysql.innodb_row_lock_time
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'The total time spent in acquiring row locks for InnoDB tables, in milliseconds.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Innodb_row_lock_time'')].Value.first()'
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: 22277695b7154c019a76ca730e68e833
          name: 'MySQL: InnoDB row lock time max'
          type: DEPENDENT
          key: mysql.innodb_row_lock_time_max
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'The maximum time to acquire a row lock for InnoDB tables, in milliseconds.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Innodb_row_lock_time_max'')].Value.first()'
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: 17c4270927a74d8388da8c25d9065556
          name: 'MySQL: InnoDB row lock waits'
          type: DEPENDENT
          key: mysql.innodb_row_lock_waits
          delay: '0'
          history: 7d
          description: 'Number of times operations on InnoDB tables had to wait for a row lock.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Innodb_row_lock_waits'')].Value.first()'
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: 6106ebf4cae842c1a5acc2f13518de4f
          name: 'MySQL: Max used connections'
          type: DEPENDENT
          key: mysql.max_used_connections
          delay: '0'
          history: 7d
          description: 'The maximum number of connections that have been in use simultaneously since the server start.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Max_used_connections'')].Value.first()'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: 85e17b6b196e4916838e0318992fe33c
          name: 'MySQL: Open tables'
          type: DEPENDENT
          key: mysql.open_tables
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of tables that are open.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Open_tables'')].Value.first()'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: c23ce7b2689745728465c5b405d7b3ba
          name: 'MySQL: Open table definitions'
          type: DEPENDENT
          key: mysql.open_table_definitions
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of cached table definitions.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Open_table_definitions'')].Value.first()'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: 2f0ced88c4524455bf790b3bc6512d04
          name: 'MySQL: Queries per second'
          type: DEPENDENT
          key: mysql.queries.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of statements executed by the server. This variable includes statements executed within stored programs, unlike the Questions variable.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Queries'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: 8d0fc2eb0be94d68966e09fca88e8deb
          name: 'MySQL: Questions per second'
          type: DEPENDENT
          key: mysql.questions.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of statements executed by the server. This includes only statements sent to the server by clients and not statements executed within stored programs, unlike the Queries variable.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Questions'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: b0227399437f4219b65ab1511d5e67c6
          name: 'MySQL: Slow queries per second'
          type: DEPENDENT
          key: mysql.slow_queries.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of queries that have taken more than long_query_time seconds.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Slow_queries'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
          triggers:
            -
              uuid: b981c7a2ffed4eddbc9f1d6913c2e4b0
              expression: 'min(/MySQL by ODBC/mysql.slow_queries.rate,5m)>{$MYSQL.SLOW_QUERIES.MAX.WARN}'
              name: 'MySQL: Server has slow queries (over {$MYSQL.SLOW_QUERIES.MAX.WARN} for 5m)'
              priority: WARNING
              description: 'The number of slow queries is more than {$MYSQL.SLOW_QUERIES.MAX.WARN} in the last 5 minutes.'
        -
          uuid: b675fd71138a4845965309dc5d6428d9
          name: 'MySQL: Threads cached'
          type: DEPENDENT
          key: mysql.threads_cached
          delay: '0'
          history: 7d
          description: 'Number of threads in the thread cache.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Threads_cached'')].Value.first()'
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: af56c636c8b94e4f9976d0d6cf60fcbb
          name: 'MySQL: Threads connected'
          type: DEPENDENT
          key: mysql.threads_connected
          delay: '0'
          history: 7d
          description: 'Number of currently open connections.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Threads_connected'')].Value.first()'
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: 8a50d5788f8a449b994dbe76536076a2
          name: 'MySQL: Threads created per second'
          type: DEPENDENT
          key: mysql.threads_created.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of threads created to handle connections. If Threads_created is big, you may want to increase the thread_cache_size value. The cache miss rate can be calculated as Threads_created/Connections.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Threads_created'')].Value.first()'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: c41afa83f6a94efda34d7b41c95c89ac
          name: 'MySQL: Threads running'
          type: DEPENDENT
          key: mysql.threads_running
          delay: '0'
          history: 7d
          description: 'Number of threads which are not sleeping.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Threads_running'')].Value.first()'
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
        -
          uuid: 8fbad224ebdf46e7b25a0be015f21972
          name: 'MySQL: Uptime'
          type: DEPENDENT
          key: mysql.uptime
          delay: '0'
          history: 7d
          units: uptime
          description: 'The amount of seconds that the server has been up.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.Variable_name==''Uptime'')].Value.first()'
          master_item:
            key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
          tags:
            -
              tag: Application
              value: MySQL
          triggers:
            -
              uuid: ba9eb4fc244b41a6a30237e7a382fa54
              expression: 'nodata(/MySQL by ODBC/mysql.uptime,30m)=1'
              name: 'MySQL: Failed to fetch info data (or no data for 30m)'
              priority: INFO
              description: 'Zabbix has not received data for items for the last 30 minutes.'
              dependencies:
                -
                  name: 'MySQL: Service is down'
                  expression: 'last(/MySQL by ODBC/db.odbc.select[ping,"{$MYSQL.DSN}"])=0'
            -
              uuid: cd8f5996bd85434998595e041d6b0908
              expression: 'last(/MySQL by ODBC/mysql.uptime)<10m'
              name: 'MySQL: Service has been restarted (uptime < 10m)'
              priority: INFO
              description: 'MySQL uptime is less than 10 minutes.'
      discovery_rules:
        -
          uuid: 0987fb6afdae4587bc32864fa42728f2
          name: 'Database discovery'
          type: ODBC
          key: 'db.odbc.discovery[databases,"{$MYSQL.DSN}"]'
          delay: 1h
          params: 'show databases'
          username: '{$MYSQL.USER}'
          password: '{$MYSQL.PASSWORD}'
          filter:
            conditions:
              -
                macro: '{#DATABASE}'
                value: information_schema
                operator: NOT_MATCHES_REGEX
                formulaid: A
          description: 'Scanning databases in DBMS.'
          item_prototypes:
            -
              uuid: f358179ef78b4a31affa9e049b4048b8
              name: 'MySQL: Size of database {#DATABASE}'
              type: ODBC
              key: 'db.odbc.select[{#DATABASE}_size,"{$MYSQL.DSN}"]'
              delay: 5m
              history: 7d
              units: B
              params: 'SELECT COALESCE(SUM(DATA_LENGTH + INDEX_LENGTH),0) FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA="{#DATABASE}"'
              username: '{$MYSQL.USER}'
              password: '{$MYSQL.PASSWORD}'
              preprocessing:
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              tags:
                -
                  tag: Application
                  value: MySQL
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
        -
          uuid: d0a235c0267c48e28bc6ecb99fb2380d
          name: 'Replication discovery'
          type: ODBC
          key: 'db.odbc.discovery[replication,"{$MYSQL.DSN}"]'
          delay: 1h
          params: 'show slave status'
          username: '{$MYSQL.USER}'
          password: '{$MYSQL.PASSWORD}'
          description: 'If "show slave status" returns Master_Host, "Replication: *" items are created.'
          item_prototypes:
            -
              uuid: d88f65c4bee84e74bb6e00061ab27f0c
              name: 'MySQL: Replication Slave status {#MASTER_HOST}'
              type: ODBC
              key: 'db.odbc.get["{#MASTER_HOST}","{$MYSQL.DSN}"]'
              history: '0'
              trends: '0'
              value_type: TEXT
              params: 'show slave status'
              username: '{$MYSQL.USER}'
              password: '{$MYSQL.PASSWORD}'
              description: 'The item gets status information on the essential parameters of the slave threads.'
              tags:
                -
                  tag: Application
                  value: 'Zabbix raw items'
            -
              uuid: 15f7b22867f54551afbed139d746e210
              name: 'MySQL: Replication Seconds Behind Master {#MASTER_HOST}'
              type: DEPENDENT
              key: 'mysql.seconds_behind_master["{#MASTER_HOST}"]'
              delay: '0'
              history: 7d
              units: s
              description: |
                The amount of seconds the slave SQL thread has been behind processing the master binary log.
                A high number (or an increasing one) can indicate that the slave is unable to handle events
                from the master in a timely fashion.
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.Master_Host==''{#MASTER_HOST}'')][''Seconds_Behind_Master''].first()'
                -
                  type: MATCHES_REGEX
                  parameters:
                    - \d+
                  error_handler: CUSTOM_ERROR
                  error_handler_params: 'Replication is not performed.'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: 'db.odbc.get["{#MASTER_HOST}","{$MYSQL.DSN}"]'
              tags:
                -
                  tag: Application
                  value: MySQL
              trigger_prototypes:
                -
                  uuid: f2188a73bbf34ffcb95b3e11e2824feb
                  expression: 'min(/MySQL by ODBC/mysql.seconds_behind_master["{#MASTER_HOST}"],5m)>{$MYSQL.REPL_LAG.MAX.WARN}'
                  name: 'MySQL: Replication lag is too high (over {$MYSQL.REPL_LAG.MAX.WARN} for 5m)'
                  priority: WARNING
            -
              uuid: e063b116753d4124a88443fe4de20d41
              name: 'MySQL: Replication Slave IO Running {#MASTER_HOST}'
              type: DEPENDENT
              key: 'mysql.slave_io_running["{#MASTER_HOST}"]'
              delay: '0'
              history: 7d
              trends: '0'
              value_type: CHAR
              description: |
                Whether the I/O thread for reading the master's binary log is running. 
                Normally, you want this to be Yes unless you have not yet started a replication or have 
                explicitly stopped it with STOP SLAVE.
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.Master_Host==''{#MASTER_HOST}'')][''Slave_IO_Running''].first()'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: 'db.odbc.get["{#MASTER_HOST}","{$MYSQL.DSN}"]'
              tags:
                -
                  tag: Application
                  value: MySQL
              trigger_prototypes:
                -
                  uuid: 6f216036f4f14ae7adc8c70126bb315a
                  expression: 'count(/MySQL by ODBC/mysql.slave_io_running["{#MASTER_HOST}"],#1,"ne","Yes")=1'
                  name: 'MySQL: The slave I/O thread is not connected to a replication master'
                  priority: WARNING
                  dependencies:
                    -
                      name: 'MySQL: The slave I/O thread is not running'
                      expression: 'count(/MySQL by ODBC/mysql.slave_io_running["{#MASTER_HOST}"],#1,"eq","No")=1'
                -
                  uuid: ba08061a61df4bbb8bac516ecec91b70
                  expression: 'count(/MySQL by ODBC/mysql.slave_io_running["{#MASTER_HOST}"],#1,"eq","No")=1'
                  name: 'MySQL: The slave I/O thread is not running'
                  priority: AVERAGE
                  description: 'Whether the I/O thread for reading the master''s binary log is running.'
            -
              uuid: 113be79554c14c2aad08036febb15d71
              name: 'MySQL: Replication Slave SQL Running {#MASTER_HOST}'
              type: DEPENDENT
              key: 'mysql.slave_sql_running["{#MASTER_HOST}"]'
              delay: '0'
              history: 7d
              trends: '0'
              value_type: CHAR
              description: |
                Whether the SQL thread for executing events in the relay log is running. 
                As with the I/O thread, this should normally be Yes.
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.Master_Host==''{#MASTER_HOST}'')][''Slave_SQL_Running''].first()'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: 'db.odbc.get["{#MASTER_HOST}","{$MYSQL.DSN}"]'
              tags:
                -
                  tag: Application
                  value: MySQL
              trigger_prototypes:
                -
                  uuid: 39d229e5e3f34e8b828b4a0e2eaa0026
                  expression: 'count(/MySQL by ODBC/mysql.slave_sql_running["{#MASTER_HOST}"],#1,"eq","No")=1'
                  name: 'MySQL: The SQL thread is not running'
                  priority: WARNING
                  description: 'Whether the SQL thread for executing events in the relay log is running.'
                  dependencies:
                    -
                      name: 'MySQL: The slave I/O thread is not running'
                      expression: 'count(/MySQL by ODBC/mysql.slave_io_running["{#MASTER_HOST}"],#1,"eq","No")=1'
            -
              uuid: a88eb463bb9740a4a4256306f11816bf
              name: 'MySQL: Replication Slave SQL Running State {#MASTER_HOST}'
              type: DEPENDENT
              key: 'mysql.slave_sql_running_state["{#MASTER_HOST}"]'
              delay: '0'
              history: 7d
              trends: '0'
              value_type: TEXT
              description: 'This shows the state of the SQL driver threads.'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.Master_Host==''{#MASTER_HOST}'')][''Slave_SQL_Running_State''].first()'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: 'db.odbc.get["{#MASTER_HOST}","{$MYSQL.DSN}"]'
              tags:
                -
                  tag: Application
                  value: MySQL
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
        -
          uuid: ad12522557df499e9a78b8b3c07733dd
          name: 'MariaDB discovery'
          type: DEPENDENT
          key: mysql.extra_metric.discovery
          delay: '0'
          description: 'Additional metrics if MariaDB is used.'
          item_prototypes:
            -
              uuid: eb8713584314461488b8769f1081d48d
              name: 'MySQL: Binlog commits'
              type: DEPENDENT
              key: 'mysql.binlog_commits[{#SINGLETON}]'
              delay: '0'
              history: 7d
              value_type: FLOAT
              description: 'Total number of transactions committed to the binary log.'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$[?(@.Variable_name==''Binlog_commits'')].Value.first()'
              master_item:
                key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
              tags:
                -
                  tag: Application
                  value: MySQL
            -
              uuid: cbb7c1fadd934420b47950f52751795f
              name: 'MySQL: Binlog group commits'
              type: DEPENDENT
              key: 'mysql.binlog_group_commits[{#SINGLETON}]'
              delay: '0'
              history: 7d
              value_type: FLOAT
              description: 'Total number of group commits done to the binary log.'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$[?(@.Variable_name==''Binlog_group_commits'')].Value.first()'
              master_item:
                key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
              tags:
                -
                  tag: Application
                  value: MySQL
            -
              uuid: 278488a9c0f543f6815a24592766d9bb
              name: 'MySQL: Master GTID wait count'
              type: DEPENDENT
              key: 'mysql.master_gtid_wait_count[{#SINGLETON}]'
              delay: '0'
              history: 7d
              value_type: FLOAT
              description: 'The number of times MASTER_GTID_WAIT called.'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$[?(@.Variable_name==''Master_gtid_wait_count'')].Value.first()'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
              tags:
                -
                  tag: Application
                  value: MySQL
            -
              uuid: 93ad282dc3b24dba9f0351b0d0a59d39
              name: 'MySQL: Master GTID wait timeouts'
              type: DEPENDENT
              key: 'mysql.master_gtid_wait_timeouts[{#SINGLETON}]'
              delay: '0'
              history: 7d
              value_type: FLOAT
              description: 'Number of timeouts occurring in MASTER_GTID_WAIT.'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$[?(@.Variable_name==''Master_gtid_wait_timeouts'')].Value.first()'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
              tags:
                -
                  tag: Application
                  value: MySQL
            -
              uuid: fd8bf7e639af4d3291030cdb9dd37bc9
              name: 'MySQL: Master GTID wait time'
              type: DEPENDENT
              key: 'mysql.master_gtid_wait_time[{#SINGLETON}]'
              delay: '0'
              history: 7d
              value_type: FLOAT
              description: 'Total number of time spent in MASTER_GTID_WAIT.'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$[?(@.Variable_name==''Master_gtid_wait_time'')].Value.first()'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: 'db.odbc.get[get_status_variables,"{$MYSQL.DSN}"]'
              tags:
                -
                  tag: Application
                  value: MySQL
          master_item:
            key: 'db.odbc.select[version,"{$MYSQL.DSN}"]'
          preprocessing:
            -
              type: JAVASCRIPT
              parameters:
                - 'return JSON.stringify(value.search(''MariaDB'')>-1 ? [{''{#SINGLETON}'': ''''}] : []);'
      macros:
        -
          macro: '{$MYSQL.ABORTED_CONN.MAX.WARN}'
          value: '3'
          description: 'Number of failed attempts to connect to the MySQL server for trigger expression.'
        -
          macro: '{$MYSQL.BUFF_UTIL.MIN.WARN}'
          value: '50'
          description: 'The minimum buffer pool utilization in percentage for trigger expression.'
        -
          macro: '{$MYSQL.CREATED_TMP_DISK_TABLES.MAX.WARN}'
          value: '10'
          description: 'The maximum number of created tmp tables on a disk per second for trigger expressions.'
        -
          macro: '{$MYSQL.CREATED_TMP_FILES.MAX.WARN}'
          value: '10'
          description: 'The maximum number of created tmp files on a disk per second for trigger expressions.'
        -
          macro: '{$MYSQL.CREATED_TMP_TABLES.MAX.WARN}'
          value: '30'
          description: 'The maximum number of created tmp tables in memory per second for trigger expressions.'
        -
          macro: '{$MYSQL.DSN}'
          value: '<Put your DSN here>'
          description: 'System data source name.'
        -
          macro: '{$MYSQL.INNODB_LOG_FILES}'
          value: '2'
          description: 'Number of physical files in the InnoDB redo log for calculating innodb_log_file_size.'
        -
          macro: '{$MYSQL.PASSWORD}'
          value: '<Put your password here>'
          description: 'MySQL user password.'
        -
          macro: '{$MYSQL.REPL_LAG.MAX.WARN}'
          value: 30m
          description: 'The lag of slave from master for trigger expression.'
        -
          macro: '{$MYSQL.SLOW_QUERIES.MAX.WARN}'
          value: '3'
          description: 'Number of slow queries for trigger expression.'
        -
          macro: '{$MYSQL.USER}'
          value: '<Put your username here>'
          description: 'MySQL username.'
      dashboards:
        -
          uuid: d56c53704c264552a09cf3e59a1835f3
          name: 'MySQL performance'
          pages:
            -
              widgets:
                -
                  type: GRAPH_CLASSIC
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'MySQL: Operations'
                        host: 'MySQL by ODBC'
                -
                  type: GRAPH_CLASSIC
                  x: '12'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'MySQL: Queries'
                        host: 'MySQL by ODBC'
                -
                  type: GRAPH_CLASSIC
                  'y': '5'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'MySQL: Connections'
                        host: 'MySQL by ODBC'
                -
                  type: GRAPH_CLASSIC
                  x: '12'
                  'y': '5'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'MySQL: Bandwidth'
                        host: 'MySQL by ODBC'
                -
                  type: GRAPH_CLASSIC
                  'y': '10'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'MySQL: InnoDB buffer pool'
                        host: 'MySQL by ODBC'
                -
                  type: GRAPH_CLASSIC
                  x: '12'
                  'y': '10'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'MySQL: Threads'
                        host: 'MySQL by ODBC'
      valuemaps:
        -
          uuid: 622c38d0af2a4b6ea7a640a5d1a22b93
          name: 'Service state'
          mappings:
            -
              value: '0'
              newvalue: Down
            -
              value: '1'
              newvalue: Up
    -
      uuid: dd114bf0fb2f46bc84840f1bb24e2b23
      template: 'Zabbix proxy health'
      name: 'Zabbix proxy health'
      groups:
        -
          name: Templates/Applications
      items:
        -
          uuid: 0230306272c24858b49243ef1c61e2ec
          name: 'Zabbix preprocessing queue'
          type: INTERNAL
          key: 'zabbix[preprocessing_queue]'
          history: 1w
          description: 'Count of values enqueued in the preprocessing queue.'
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
        -
          uuid: 5131f979c17a4346a95f8ba77e7133a4
          name: 'Utilization of availability manager internal processes, in %'
          type: INTERNAL
          key: 'zabbix[process,availability manager,avg,busy]'
          history: 1w
          value_type: FLOAT
          units: '%'
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: 5a8375a8eee642f2940ed813ee062336
              expression: 'avg(/Zabbix proxy health/zabbix[process,availability manager,avg,busy],10m)>75'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Zabbix proxy health/zabbix[process,availability manager,avg,busy],10m)<65'
              name: 'Zabbix availability manager processes more than 75% busy'
              priority: AVERAGE
        -
          uuid: 3d1bfa64a447427da0b463c3617b212e
          name: 'Utilization of configuration syncer internal processes, in %'
          type: INTERNAL
          key: 'zabbix[process,configuration syncer,avg,busy]'
          history: 1w
          value_type: FLOAT
          units: '%'
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: 27eb861e2e6f43f69f17b8ba65bfedcc
              expression: 'avg(/Zabbix proxy health/zabbix[process,configuration syncer,avg,busy],10m)>75'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Zabbix proxy health/zabbix[process,configuration syncer,avg,busy],10m)<65'
              name: 'Zabbix configuration syncer processes more than 75% busy'
              priority: AVERAGE
        -
          uuid: 69eefd6aba164d71b0a2b8d2df06e9a3
          name: 'Utilization of data sender internal processes, in %'
          type: INTERNAL
          key: 'zabbix[process,data sender,avg,busy]'
          history: 1w
          value_type: FLOAT
          units: '%'
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: e8fd57784b9e4289aa4515cfa7c6c4ad
              expression: 'avg(/Zabbix proxy health/zabbix[process,data sender,avg,busy],10m)>75'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Zabbix proxy health/zabbix[process,data sender,avg,busy],10m)<65'
              name: 'Zabbix data sender processes more than 75% busy'
              priority: AVERAGE
        -
          uuid: 1d00c5ef345f4827a921ff3e3617d316
          name: 'Utilization of discoverer data collector processes, in %'
          type: INTERNAL
          key: 'zabbix[process,discoverer,avg,busy]'
          history: 1w
          value_type: FLOAT
          allowed_hosts: localhost
          units: '%'
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: 080bd8d98f204d8580cbb1088f07d57b
              expression: 'avg(/Zabbix proxy health/zabbix[process,discoverer,avg,busy],10m)>75'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Zabbix proxy health/zabbix[process,discoverer,avg,busy],10m)<65'
              name: 'Zabbix discoverer processes more than 75% busy'
              priority: AVERAGE
        -
          uuid: a1a7b0f3c34248a0993c305cd76fea5a
          name: 'Utilization of heartbeat sender internal processes, in %'
          type: INTERNAL
          key: 'zabbix[process,heartbeat sender,avg,busy]'
          history: 1w
          value_type: FLOAT
          units: '%'
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: 51e9b56f0d854808949c5c89a53edadf
              expression: 'avg(/Zabbix proxy health/zabbix[process,heartbeat sender,avg,busy],10m)>75'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Zabbix proxy health/zabbix[process,heartbeat sender,avg,busy],10m)<65'
              name: 'Zabbix heartbeat sender processes more than 75% busy'
              priority: AVERAGE
        -
          uuid: d34bb8623fff4fb99f87167534299654
          name: 'Utilization of history poller data collector processes, in %'
          type: INTERNAL
          key: 'zabbix[process,history poller,avg,busy]'
          history: 1w
          value_type: FLOAT
          units: '%'
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: 7ee08ecfeafc488583e8e4719b8a1be1
              expression: 'avg(/Zabbix proxy health/zabbix[process,history poller,avg,busy],10m)>75'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Zabbix proxy health/zabbix[process,history poller,avg,busy],10m)<65'
              name: 'Zabbix history poller processes more than 75% busy'
              priority: AVERAGE
        -
          uuid: 7dde8cd03e5043a2bd484f7213a5f112
          name: 'Utilization of history syncer internal processes, in %'
          type: INTERNAL
          key: 'zabbix[process,history syncer,avg,busy]'
          history: 1w
          value_type: FLOAT
          units: '%'
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: 52fb303ec9164aa28821117f3a559fe3
              expression: 'avg(/Zabbix proxy health/zabbix[process,history syncer,avg,busy],10m)>75'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Zabbix proxy health/zabbix[process,history syncer,avg,busy],10m)<65'
              name: 'Zabbix history syncer processes more than 75% busy'
              priority: AVERAGE
        -
          uuid: 31f0355f4d7c4de6b0d6f206d1ca9fa3
          name: 'Utilization of housekeeper internal processes, in %'
          type: INTERNAL
          key: 'zabbix[process,housekeeper,avg,busy]'
          history: 1w
          value_type: FLOAT
          units: '%'
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: b6cbede80a4847ed94a0ba818b7ca261
              expression: 'avg(/Zabbix proxy health/zabbix[process,housekeeper,avg,busy],30m)>75'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Zabbix proxy health/zabbix[process,housekeeper,avg,busy],30m)<65'
              name: 'Zabbix housekeeper processes more than 75% busy'
              priority: AVERAGE
        -
          uuid: 782b11dbe3ce47e3b9098c43d83057ad
          name: 'Utilization of http poller data collector processes, in %'
          type: INTERNAL
          key: 'zabbix[process,http poller,avg,busy]'
          history: 1w
          value_type: FLOAT
          units: '%'
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: e93e5a3dd27f4d378bbfe2c8e5b009e7
              expression: 'avg(/Zabbix proxy health/zabbix[process,http poller,avg,busy],10m)>75'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Zabbix proxy health/zabbix[process,http poller,avg,busy],10m)<65'
              name: 'Zabbix http poller processes more than 75% busy'
              priority: AVERAGE
        -
          uuid: 9b899ab317b447d1a82d1136e0a2ff6f
          name: 'Utilization of icmp pinger data collector processes, in %'
          type: INTERNAL
          key: 'zabbix[process,icmp pinger,avg,busy]'
          history: 1w
          value_type: FLOAT
          units: '%'
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: d514f4a08bcd4fe2b696015a74ffafcf
              expression: 'avg(/Zabbix proxy health/zabbix[process,icmp pinger,avg,busy],10m)>75'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Zabbix proxy health/zabbix[process,icmp pinger,avg,busy],10m)<65'
              name: 'Zabbix icmp pinger processes more than 75% busy'
              priority: AVERAGE
        -
          uuid: 52b3123dfef94d8bba1b1a13314a9d4f
          name: 'Utilization of ipmi manager internal processes, in %'
          type: INTERNAL
          key: 'zabbix[process,ipmi manager,avg,busy]'
          history: 1w
          value_type: FLOAT
          units: '%'
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: 751e3000367f42d9af0d4418f3472a91
              expression: 'avg(/Zabbix proxy health/zabbix[process,ipmi manager,avg,busy],10m)>75'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Zabbix proxy health/zabbix[process,ipmi manager,avg,busy],10m)<65'
              name: 'Zabbix ipmi manager processes more than 75% busy'
              priority: AVERAGE
        -
          uuid: 7cfb2f1504dd4b0aaac804b132d49bc5
          name: 'Utilization of ipmi poller data collector processes, in %'
          type: INTERNAL
          key: 'zabbix[process,ipmi poller,avg,busy]'
          history: 1w
          value_type: FLOAT
          units: '%'
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: 99ce9f0ed6204860b7b943e9e3a5fbc0
              expression: 'avg(/Zabbix proxy health/zabbix[process,ipmi poller,avg,busy],10m)>75'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Zabbix proxy health/zabbix[process,ipmi poller,avg,busy],10m)<65'
              name: 'Zabbix ipmi poller processes more than 75% busy'
              priority: AVERAGE
        -
          uuid: 02214c0c38394bef8d648369584ae30b
          name: 'Utilization of java poller data collector processes, in %'
          type: INTERNAL
          key: 'zabbix[process,java poller,avg,busy]'
          history: 1w
          value_type: FLOAT
          units: '%'
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: 5b8cc59c21b145739e346479124c48f5
              expression: 'avg(/Zabbix proxy health/zabbix[process,java poller,avg,busy],10m)>75'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Zabbix proxy health/zabbix[process,java poller,avg,busy],10m)<65'
              name: 'Zabbix java poller processes more than 75% busy'
              priority: AVERAGE
        -
          uuid: 334398ad893e4146bc1b9370eef9df59
          name: 'Utilization of poller data collector processes, in %'
          type: INTERNAL
          key: 'zabbix[process,poller,avg,busy]'
          history: 1w
          value_type: FLOAT
          allowed_hosts: localhost
          units: '%'
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: 3f93b378367e48f89abe304ccb624047
              expression: 'avg(/Zabbix proxy health/zabbix[process,poller,avg,busy],10m)>75'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Zabbix proxy health/zabbix[process,poller,avg,busy],10m)<65'
              name: 'Zabbix poller processes more than 75% busy'
              priority: AVERAGE
        -
          uuid: 20705fe12d4c40a4a27306b66ec9a69d
          name: 'Utilization of preprocessing manager internal processes, in %'
          type: INTERNAL
          key: 'zabbix[process,preprocessing manager,avg,busy]'
          history: 1w
          value_type: FLOAT
          units: '%'
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: 1ed29eb53708417a827adbdf4d8f145b
              expression: 'avg(/Zabbix proxy health/zabbix[process,preprocessing manager,avg,busy],10m)>75'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Zabbix proxy health/zabbix[process,preprocessing manager,avg,busy],10m)<65'
              name: 'Zabbix preprocessing manager processes more than 75% busy'
              priority: AVERAGE
        -
          uuid: 9c7916375cf841fb8edaf383b93a0522
          name: 'Utilization of preprocessing worker internal processes, in %'
          type: INTERNAL
          key: 'zabbix[process,preprocessing worker,avg,busy]'
          history: 1w
          value_type: FLOAT
          units: '%'
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: 22831f081149400a86cb18930de0cc20
              expression: 'avg(/Zabbix proxy health/zabbix[process,preprocessing worker,avg,busy],10m)>75'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Zabbix proxy health/zabbix[process,preprocessing worker,avg,busy],10m)<65'
              name: 'Zabbix preprocessing worker processes more than 75% busy'
              priority: AVERAGE
        -
          uuid: 1fd488bbb4af450cb2b5e8c81b739f29
          name: 'Utilization of self-monitoring internal processes, in %'
          type: INTERNAL
          key: 'zabbix[process,self-monitoring,avg,busy]'
          history: 1w
          value_type: FLOAT
          units: '%'
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: cc9569f75bd44b5cbce4a4c556cd2949
              expression: 'avg(/Zabbix proxy health/zabbix[process,self-monitoring,avg,busy],10m)>75'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Zabbix proxy health/zabbix[process,self-monitoring,avg,busy],10m)<65'
              name: 'Zabbix self-monitoring processes more than 75% busy'
              priority: AVERAGE
        -
          uuid: 77ab21500d734deea86938a1a90035e0
          name: 'Utilization of snmp trapper data collector processes, in %'
          type: INTERNAL
          key: 'zabbix[process,snmp trapper,avg,busy]'
          history: 1w
          value_type: FLOAT
          units: '%'
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: bb0a46beffbc457faea9362d4325c676
              expression: 'avg(/Zabbix proxy health/zabbix[process,snmp trapper,avg,busy],10m)>75'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Zabbix proxy health/zabbix[process,snmp trapper,avg,busy],10m)<65'
              name: 'Zabbix snmp trapper processes more than 75% busy'
              priority: AVERAGE
        -
          uuid: 94d1aa1bff2d499f9e29dd9cafd04b9e
          name: 'Utilization of task manager internal processes, in %'
          type: INTERNAL
          key: 'zabbix[process,task manager,avg,busy]'
          history: 1w
          value_type: FLOAT
          units: '%'
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: 9a42dad8cef04138944f3a1b8c797f4e
              expression: 'avg(/Zabbix proxy health/zabbix[process,task manager,avg,busy],10m)>75'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Zabbix proxy health/zabbix[process,task manager,avg,busy],10m)<65'
              name: 'Zabbix task manager processes more than 75% busy'
              priority: AVERAGE
        -
          uuid: 8d99635291d14ae8a5ba7d794540bde2
          name: 'Utilization of trapper data collector processes, in %'
          type: INTERNAL
          key: 'zabbix[process,trapper,avg,busy]'
          history: 1w
          value_type: FLOAT
          units: '%'
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: 95ad6d80dc9c4f46a4e255d13f1b01a3
              expression: 'avg(/Zabbix proxy health/zabbix[process,trapper,avg,busy],10m)>75'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Zabbix proxy health/zabbix[process,trapper,avg,busy],10m)<65'
              name: 'Zabbix trapper processes more than 75% busy'
              priority: AVERAGE
        -
          uuid: 7b0f5b75d4854b84a7e1f51975732e25
          name: 'Utilization of unreachable poller data collector processes, in %'
          type: INTERNAL
          key: 'zabbix[process,unreachable poller,avg,busy]'
          history: 1w
          value_type: FLOAT
          units: '%'
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: a28abd3f43f843af9646a1f8b1ca056a
              expression: 'avg(/Zabbix proxy health/zabbix[process,unreachable poller,avg,busy],10m)>75'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Zabbix proxy health/zabbix[process,unreachable poller,avg,busy],10m)<65'
              name: 'Zabbix unreachable poller processes more than 75% busy'
              priority: AVERAGE
        -
          uuid: a5a7076a175c400f866a4d873d12e1e4
          name: 'Utilization of vmware data collector processes, in %'
          type: INTERNAL
          key: 'zabbix[process,vmware collector,avg,busy]'
          history: 1w
          value_type: FLOAT
          units: '%'
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: a1051b5ac8334125a40cb36a95605284
              expression: 'avg(/Zabbix proxy health/zabbix[process,vmware collector,avg,busy],10m)>75'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'avg(/Zabbix proxy health/zabbix[process,vmware collector,avg,busy],10m)<65'
              name: 'Zabbix vmware collector processes more than 75% busy'
              priority: AVERAGE
        -
          uuid: 2fa1c8d8fcb94d4c83cf4e291420a690
          name: 'Zabbix queue over 10 minutes'
          type: INTERNAL
          key: 'zabbix[queue,10m]'
          delay: 10m
          history: 1w
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: f28d8231e0f2486bb68963719359789c
              expression: 'min(/Zabbix proxy health/zabbix[queue,10m],10m)>100'
              name: 'More than 100 items having missing data for more than 10 minutes'
              priority: WARNING
              description: 'zabbix[queue,10m] item is collecting data about how many items are missing data for more than 10 minutes'
        -
          uuid: cfbb623cca754fd49d4f606ab52f658d
          name: 'Zabbix queue'
          type: INTERNAL
          key: 'zabbix[queue]'
          history: 1w
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
        -
          uuid: 606d1d43812341db8260a233295a4a4e
          name: 'Zabbix configuration cache, % used'
          type: INTERNAL
          key: 'zabbix[rcache,buffer,pused]'
          history: 1w
          value_type: FLOAT
          units: '%'
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: 98ae52367f69476dbeb9c50e5f28b429
              expression: 'max(/Zabbix proxy health/zabbix[rcache,buffer,pused],10m)>75'
              name: 'More than 75% used in the configuration cache'
              priority: AVERAGE
              description: 'Consider increasing CacheSize in the zabbix_proxy.conf configuration file'
        -
          uuid: fc7412c1a02240b7931d3511743a2662
          name: 'Zabbix vmware cache, % used'
          type: INTERNAL
          key: 'zabbix[vmware,buffer,pused]'
          history: 1w
          value_type: FLOAT
          units: '%'
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: 69707cc61b7d408f8683dae435183d4f
              expression: 'max(/Zabbix proxy health/zabbix[vmware,buffer,pused],10m)>75'
              name: 'More than 75% used in the vmware cache'
              priority: AVERAGE
              description: 'Consider increasing VMwareCacheSize in the zabbix_proxy.conf configuration file'
        -
          uuid: aec73d2a7e444702b352c75998bf636e
          name: 'Zabbix history write cache, % used'
          type: INTERNAL
          key: 'zabbix[wcache,history,pused]'
          history: 1w
          value_type: FLOAT
          units: '%'
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: dc5a87f6c62d47b08ddd4578aa5f293f
              expression: 'max(/Zabbix proxy health/zabbix[wcache,history,pused],10m)>75'
              name: 'More than 75% used in the history cache'
              priority: AVERAGE
              description: 'Consider increasing HistoryCacheSize in the zabbix_proxy.conf configuration file'
        -
          uuid: 8c4c7802497d4de4988278edc29f8eb1
          name: 'Zabbix history index cache, % used'
          type: INTERNAL
          key: 'zabbix[wcache,index,pused]'
          history: 1w
          value_type: FLOAT
          units: '%'
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
          triggers:
            -
              uuid: 92b94edb126d48af9e5e959357e2107b
              expression: 'max(/Zabbix proxy health/zabbix[wcache,index,pused],10m)>75'
              name: 'More than 75% used in the history index cache'
              priority: AVERAGE
              description: 'Consider increasing HistoryIndexCacheSize in the zabbix_proxy.conf configuration file'
        -
          uuid: ba5efd0ed21d4ac39e1375788b7198de
          name: 'Number of processed numeric (float) values per second'
          type: INTERNAL
          key: 'zabbix[wcache,values,float]'
          history: 1w
          value_type: FLOAT
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
        -
          uuid: 47cdd6ef01734ec1ab15b0ab43d147ca
          name: 'Number of processed log values per second'
          type: INTERNAL
          key: 'zabbix[wcache,values,log]'
          history: 1w
          value_type: FLOAT
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
        -
          uuid: 46574db1d70545f6af89e8607d22f5bb
          name: 'Number of processed not supported values per second'
          type: INTERNAL
          key: 'zabbix[wcache,values,not supported]'
          history: 1w
          value_type: FLOAT
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
        -
          uuid: 5f0c3ed0998e499aaa1e4a30726928fc
          name: 'Number of processed character values per second'
          type: INTERNAL
          key: 'zabbix[wcache,values,str]'
          history: 1w
          value_type: FLOAT
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
        -
          uuid: 1c259b08b3ff445f9b2f24a02c07c5db
          name: 'Number of processed text values per second'
          type: INTERNAL
          key: 'zabbix[wcache,values,text]'
          history: 1w
          value_type: FLOAT
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
        -
          uuid: 8e4b9641b173415c8608ee4863bcd547
          name: 'Number of processed numeric (unsigned) values per second'
          type: INTERNAL
          key: 'zabbix[wcache,values,uint]'
          history: 1w
          value_type: FLOAT
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
        -
          uuid: 5229b786efc84f01bb31f2819c47d9f4
          name: 'Number of processed values per second'
          type: INTERNAL
          key: 'zabbix[wcache,values]'
          history: 1w
          value_type: FLOAT
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          request_method: POST
          tags:
            -
              tag: Application
              value: 'Zabbix proxy'
      dashboards:
        -
          uuid: c12bdb602db645a292d0cbba39d58e9f
          name: 'Zabbix proxy health'
          pages:
            -
              widgets:
                -
                  type: GRAPH_CLASSIC
                  width: '12'
                  height: '6'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'Zabbix proxy performance'
                        host: 'Zabbix proxy health'
                -
                  type: GRAPH_CLASSIC
                  x: '12'
                  width: '12'
                  height: '6'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'Zabbix data gathering process busy %'
                        host: 'Zabbix proxy health'
                -
                  type: GRAPH_CLASSIC
                  'y': '6'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'Zabbix internal process busy %'
                        host: 'Zabbix proxy health'
                -
                  type: GRAPH_CLASSIC
                  x: '12'
                  'y': '6'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'Zabbix cache usage, % used'
                        host: 'Zabbix proxy health'
  graphs:
    -
      uuid: 3522a11cae374d08a751f419e51748e1
      name: 'MySQL: Bandwidth'
      graph_items:
        -
          drawtype: GRADIENT_LINE
          color: 1A7C11
          item:
            host: 'MySQL by ODBC'
            key: mysql.bytes_received.rate
        -
          sortorder: '1'
          drawtype: GRADIENT_LINE
          color: 2774A4
          item:
            host: 'MySQL by ODBC'
            key: mysql.bytes_sent.rate
    -
      uuid: 51a6827371434314b76eaed17db0e09e
      name: 'MySQL: Connections'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'MySQL by ODBC'
            key: mysql.aborted_clients.rate
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'MySQL by ODBC'
            key: mysql.aborted_connects.rate
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'MySQL by ODBC'
            key: mysql.connections.rate
        -
          sortorder: '3'
          color: A54F10
          item:
            host: 'MySQL by ODBC'
            key: mysql.max_used_connections
    -
      uuid: 07edad9e34394a689dc294c8ec27a37e
      name: 'MySQL: InnoDB buffer pool'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'MySQL by ODBC'
            key: mysql.innodb_buffer_pool_pages_free
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'MySQL by ODBC'
            key: mysql.innodb_buffer_pool_pages_total
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'MySQL by ODBC'
            key: mysql.innodb_buffer_pool_read_requests.rate
        -
          sortorder: '3'
          color: A54F10
          item:
            host: 'MySQL by ODBC'
            key: mysql.innodb_buffer_pool_reads.rate
    -
      uuid: 93bb7077e60047e59ac3fd308044722a
      name: 'MySQL: Operations'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'MySQL by ODBC'
            key: mysql.com_delete.rate
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'MySQL by ODBC'
            key: mysql.com_insert.rate
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'MySQL by ODBC'
            key: mysql.com_select.rate
        -
          sortorder: '3'
          color: A54F10
          item:
            host: 'MySQL by ODBC'
            key: mysql.com_update.rate
    -
      uuid: 172ad44d7cef4c20b08b4babf8969805
      name: 'MySQL: Queries'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'MySQL by ODBC'
            key: mysql.queries.rate
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'MySQL by ODBC'
            key: mysql.questions.rate
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'MySQL by ODBC'
            key: mysql.slow_queries.rate
    -
      uuid: 1ce62612e1174b3fa91bde29ccaa27ef
      name: 'MySQL: Threads'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'MySQL by ODBC'
            key: mysql.threads_cached
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'MySQL by ODBC'
            key: mysql.threads_connected
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'MySQL by ODBC'
            key: mysql.threads_created.rate
        -
          sortorder: '3'
          color: A54F10
          item:
            host: 'MySQL by ODBC'
            key: mysql.threads_running
    -
      uuid: 40b649050cb8420888abcae129eafe27
      name: 'Zabbix cache usage, % used'
      ymin_type_1: FIXED
      ymax_type_1: FIXED
      graph_items:
        -
          color: DD0000
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[rcache,buffer,pused]'
        -
          sortorder: '1'
          color: 00DDDD
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[wcache,index,pused]'
        -
          sortorder: '2'
          color: 3333FF
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[wcache,history,pused]'
        -
          sortorder: '3'
          color: 00FF00
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[vmware,buffer,pused]'
    -
      uuid: 7635642bf94249e39d420a6eba1f6649
      name: 'Zabbix data gathering process busy %'
      ymin_type_1: FIXED
      ymax_type_1: FIXED
      graph_items:
        -
          sortorder: '1'
          color: '990099'
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[process,trapper,avg,busy]'
        -
          sortorder: '2'
          color: '990000'
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[process,poller,avg,busy]'
        -
          sortorder: '3'
          color: 0000EE
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[process,ipmi poller,avg,busy]'
        -
          sortorder: '4'
          color: FF33FF
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[process,discoverer,avg,busy]'
        -
          sortorder: '5'
          color: '007700'
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[process,icmp pinger,avg,busy]'
        -
          sortorder: '6'
          color: '003300'
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[process,http poller,avg,busy]'
        -
          sortorder: '7'
          color: 33FFFF
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[process,unreachable poller,avg,busy]'
        -
          sortorder: '8'
          color: DD0000
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[process,java poller,avg,busy]'
        -
          sortorder: '9'
          color: '000099'
          calc_fnc: ALL
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[process,snmp trapper,avg,busy]'
        -
          sortorder: '10'
          color: 00FF00
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[process,vmware collector,avg,busy]'
        -
          sortorder: '11'
          color: BB2A02
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[process,history poller,avg,busy]'
    -
      uuid: 60a3dcc84e494c17b656395d78d9b9e9
      name: 'Zabbix internal process busy %'
      ymin_type_1: FIXED
      ymax_type_1: FIXED
      graph_items:
        -
          sortorder: '1'
          color: FFAA00
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[process,housekeeper,avg,busy]'
        -
          sortorder: '2'
          color: '990099'
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[process,configuration syncer,avg,busy]'
        -
          sortorder: '3'
          color: EE0000
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[process,history syncer,avg,busy]'
        -
          sortorder: '4'
          color: FF66FF
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[process,self-monitoring,avg,busy]'
        -
          sortorder: '5'
          color: 0000EE
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[process,heartbeat sender,avg,busy]'
        -
          sortorder: '6'
          color: 00EE00
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[process,data sender,avg,busy]'
        -
          sortorder: '7'
          color: '009999'
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[process,task manager,avg,busy]'
        -
          sortorder: '8'
          color: BBBB00
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[process,ipmi manager,avg,busy]'
        -
          sortorder: '9'
          color: '990000'
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[process,preprocessing manager,avg,busy]'
        -
          sortorder: '10'
          color: '008800'
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[process,preprocessing worker,avg,busy]'
        -
          sortorder: '11'
          color: BB2A02
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[process,availability manager,avg,busy]'
    -
      uuid: 787ad6ca2967415c8a1daa4a4400c12d
      name: 'Zabbix internal queues'
      graph_items:
        -
          color: '008800'
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[preprocessing_queue]'
    -
      uuid: d03bdc914520474084d6809312cdf097
      name: 'Zabbix proxy performance'
      graph_items:
        -
          drawtype: GRADIENT_LINE
          color: 00C800
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[wcache,values]'
        -
          sortorder: '1'
          drawtype: GRADIENT_LINE
          color: C80000
          yaxisside: RIGHT
          item:
            host: 'Zabbix proxy health'
            key: 'zabbix[queue]'
